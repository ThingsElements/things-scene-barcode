!function e(t,i,r){function o(a,s){if(!i[a]){if(!t[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[a]={exports:{}};t[a][0].call(l.exports,function(e){var i=t[a][1][e];return o(i?i:e)},l,l.exports,e,t,i,r)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),s=function g(e,t,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,i)}if("value"in r)return r.value;var n=r.get;return void 0===n?void 0:n.call(i)},h=scene,c=h.Component,l=h.Rect,u=["symbol","text","scale_h","scale_w","rot","showText"],d={code11:/^[0-9\-]*$/,codebar:/^[A-D][0-9\+$:\-\/.]*[A-D]$/,code39:{normal:/^[0-9A-Z\-.$\/\+%\*\s]*$/,extended:/^[\000-\177]*$/},code93:{normal:/^[0-9A-Z\-.$\/\+%\*\s]*$/,extended:/^[\000-\177]*$/},code128:{auto:/^[\000-\177]*$/,A:/^[\000-\137]*$/,B:/^[\040-\177]*$/,C:/^(([0-9]{2})+?)*$/},datamatrix:/^[\x00-\xff]*$/,ean8:/^\d{1,}$/,ean13:/^\d{1,}$/,industrial2of5:/^\d{1,}$/,interleaved2of5:/^\d{1,}$/,isbn:/^\d{9}[\d|X]$/,msi:/^\d{1,}$/,pdf417:{"text-compaction":/^[\011\012\015\040-\177]*$/,"binary-compaction":/^[\x00-\xff]*$/},planet:/^\d{1,}$/,postnet:/^\d{1,}$/,ean128:/^[\000-\177\xC8\xCA-\xCD]*$/,upca:/^\d{1,}$/,upce:/^\d{1,}$/},f={"":function(){},code39:function(e){return(e.match(/[^-0-9A-Z.$\/+% ]/g)||[]).reduce(function(e,t){return e.replace(t," ")},e)}},p=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return n(t,e),a(t,[{key:"_draw",value:function(e){var t=this.model,i=t.symbol,r=t.showText,o=t.scale_h,n=void 0===o?3:o,a=t.scale_w,s=void 0===a?5:a,h=t.left,c=void 0===h?0:h,l=t.top,u=void 0===l?0:l,f=t.width,p=void 0===f?0:f,g=t.height,w=void 0===g?10:g,_=t.square,v=void 0===_?!1:_,b=(t.rotation,t.alpha),y=void 0===b?1:b,m=this.text;if(this.lastText!=m&&(this.img=null,this.lastText=m),e.beginPath(),e.globalAlpha=y,!this.img){this.img=new Image;var x=this.img,$=this;if(x.onload=function(){$.width_per_scale=x.width/s,v?($.height_per_scale=x.height/n,$.set({width:x.width,height:x.height})):$.set("width",x.width),$.invalidate()},!this.img.src){var O=d[i];O instanceof RegExp&&!m.match(O)&&console.error("["+m+"] is not valid for barcode '"+i+"' - \\"+O+"\\.");try{this.img.src=bwip.imageUrl({symbol:i,text:m,alttext:"N"==r?" ":"",scale_h:s,scale_w:s,rotation:"N"})}catch(j){console.log(j)}}}try{this.img&&e.drawImage(this.img,c,u,p,w)}catch(j){console.log(j)}e.stroke()}},{key:"adjustResize",value:function(e,t){if(!this.width_per_scale)return t;var i=!!this.get("square"),r=t.left,o=t.width,n=i?t.top:e.top,a=i?t.height:e.height,s=this.get("scale_w"),h=Math.max(Math.floor(e.width/this.width_per_scale),1);if(i){var c=this.get("scale_h"),l=Math.max(Math.floor(e.height/this.height_per_scale),1),u=Math.abs(t.width-e.width)>Math.abs(t.height-e.height)?h:l;Math.abs(e.top-n)>=10&&(n-=u*this.height_per_scale-t.height),Math.abs(e.left-r)>=10&&(r-=u*this.width_per_scale-t.width),o+=u*this.width_per_scale-t.width,a+=u*this.height_per_scale-t.height,(s!==u||c!==u)&&(this.set({scale_w:u,scale_h:u}),delete this.img)}else Math.abs(e.left-r)>=10&&(r-=h*this.width_per_scale-t.width),o+=h*this.width_per_scale-t.width,s!==h&&(this.set("scale_w",h),delete this.img);return{left:r,top:n,width:o,height:a}}},{key:"onchange",value:function(e){var t=this;u.every(function(i){return e.hasOwnProperty(i)?(delete t.img,!1):!0})}},{key:"drawText",value:function(){}},{key:"text",get:function(){var e=this.get("type"),i=s(Object.getPrototypeOf(t.prototype),"text",this),r=f[e];return r?r(i):i}},{key:"controls",get:function(){}}]),t}(l);i["default"]=p,c.register("barcode",p),scene.Barcode=p},{}],2:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("./barcode");Object.defineProperty(i,"Barcode",{enumerable:!0,get:function(){return r(o)["default"]}})},{"./barcode":1}]},{},[2]);