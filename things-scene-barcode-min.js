!function e(t,i,r){function o(n,h){if(!i[n]){if(!t[n]){var s="function"==typeof require&&require;if(!h&&s)return s(n,!0);if(a)return a(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[n]={exports:{}};t[n][0].call(l.exports,function(e){var i=t[n][1][e];return o(i?i:e)},l,l.exports,e,t,i,r)}return i[n].exports}for(var a="function"==typeof require&&require,n=0;n<r.length;n++)o(r[n]);return o}({1:[function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),h=scene,s=h.Component,c=h.Rect,l=["symbol","text","scale_h","scale_w","rot","showText"],u={code11:/^[0-9\-]*$/,codebar:/^[A-D][0-9\+$:\-\/.]*[A-D]$/,code39:{normal:/^[0-9A-Z\-.$\/\+%\*\s]*$/,extended:/^[\000-\177]*$/},code93:{normal:/^[0-9A-Z\-.$\/\+%\*\s]*$/,extended:/^[\000-\177]*$/},code128:{auto:/^[\000-\177]*$/,A:/^[\000-\137]*$/,B:/^[\040-\177]*$/,C:/^(([0-9]{2})+?)*$/},datamatrix:/^[\x00-\xff]*$/,ean8:/^\d{1,}$/,ean13:/^\d{1,}$/,industrial2of5:/^\d{1,}$/,interleaved2of5:/^\d{1,}$/,isbn:/^\d{9}[\d|X]$/,msi:/^\d{1,}$/,pdf417:{"text-compaction":/^[\011\012\015\040-\177]*$/,"binary-compaction":/^[\x00-\xff]*$/},planet:/^\d{1,}$/,postnet:/^\d{1,}$/,ean128:/^[\000-\177\xC8\xCA-\xCD]*$/,upca:/^\d{1,}$/,upce:/^\d{1,}$/},d=function(e){function t(){return r(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),n(t,[{key:"_draw",value:function(e){var t=this.model,i=t.left,r=void 0===i?0:i,o=t.top,a=void 0===o?0:o,n=t.width,h=void 0===n?0:n,s=t.height,c=void 0===s?10:s,l=t.alpha,u=void 0===l?1:l,d=this.text;this.prepareIf(d&&(!this.image||this.lastText!=d)),this.lastText=d,e.beginPath(),e.globalAlpha=u;try{this.image&&e.drawImage(this.image,r,a,h,c)}catch(f){console.log(f)}}},{key:"prepare",value:function(e,t){var i=this.text;if(!i)return void e(this);this.image=new Image;var r=this,o=this.image,a=this.model,n=a.showText,h=a.scale_h,s=void 0===h?3:h,c=a.scale_w,l=void 0===c?5:c,d=a.square,f=void 0===d?!1:d,p=a.symbol;this.image.onload=function(){r.width_per_scale=o.width/l,f?(r.height_per_scale=o.height/s,r.set({width:o.width,height:o.height})):r.set("width",o.width),e(this)},this.image.onerror=function(e){t(e)};var g=u[p];g instanceof RegExp&&!i.match(g)&&console.error("["+i+"] is not valid for barcode '"+p+"' - \\"+g+"\\.");try{this.image.src=bwip.imageUrl({symbol:p,text:i,alttext:"N"==n?" ":"",scale_h:l,scale_w:l,rotation:"N"})}catch(w){console.log(w)}}},{key:"onchange",value:function(e){var t=this;l.every(function(i){return e.hasOwnProperty(i)?(delete t.image,!1):!0})}},{key:"adjustResize",value:function(e,t){if(!this.width_per_scale)return t;var i=!!this.get("square"),r=t.left,o=t.width,a=i?t.top:e.top,n=i?t.height:e.height,h=this.get("scale_w"),s=Math.max(Math.floor(e.width/this.width_per_scale),1);if(i){var c=this.get("scale_h"),l=Math.max(Math.floor(e.height/this.height_per_scale),1),u=Math.abs(t.width-e.width)>Math.abs(t.height-e.height)?s:l;Math.abs(e.top-a)>=10&&(a-=u*this.height_per_scale-t.height),Math.abs(e.left-r)>=10&&(r-=u*this.width_per_scale-t.width),o+=u*this.width_per_scale-t.width,n+=u*this.height_per_scale-t.height,(h!==u||c!==u)&&(this.set({scale_w:u,scale_h:u}),delete this.image)}else Math.abs(e.left-r)>=10&&(r-=s*this.width_per_scale-t.width),o+=s*this.width_per_scale-t.width,h!==s&&(this.set("scale_w",s),delete this.image);return{left:r,top:a,width:o,height:n}}},{key:"drawText",value:function(){}},{key:"controls",get:function(){}}]),t}(c);i["default"]=d,s.register("barcode",d),scene.Barcode=d},{}],2:[function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("./barcode");Object.defineProperty(i,"Barcode",{enumerable:!0,get:function(){return r(o)["default"]}})},{"./barcode":1}]},{},[2]);